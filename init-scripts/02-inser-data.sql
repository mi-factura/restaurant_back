SET search_path TO proyecto_db, public;

INSERT INTO country (name, code) VALUES
('Afghanistan', 'AF'),
('Albania', 'AL'),
('Algeria', 'DZ'),
('American Samoa', 'AS'),
('Andorra', 'AD'),
('Angola', 'AO'),
('Anguilla', 'AI'),
('Antarctica', 'AQ'),
('Antigua and Barbuda', 'AG'),
('Argentina', 'AR'),
('Armenia', 'AM'),
('Aruba', 'AW'),
('Australia', 'AU'),
('Austria', 'AT'),
('Azerbaijan', 'AZ'),
('Bahamas', 'BS'),
('Bahrain', 'BH'),
('Bangladesh', 'BD'),
('Barbados', 'BB'),
('Belarus', 'BY'),
('Belgium', 'BE'),
('Belize', 'BZ'),
('Benin', 'BJ'),
('Bermuda', 'BM'),
('Bhutan', 'BT'),
('Bolivia', 'BO'),
('Bosnia and Herzegovina', 'BA'),
('Botswana', 'BW'),
('Bouvet Island', 'BV'),
('Brazil', 'BR'),
('British Indian Ocean Territory', 'IO'),
('Brunei Darussalam', 'BN'),
('Bulgaria', 'BG'),
('Burkina Faso', 'BF'),
('Burundi', 'BI'),
('Cambodia', 'KH'),
('Cameroon', 'CM'),
('Canada', 'CA'),
('Cape Verde', 'CV'),
('Cayman Islands', 'KY'),
('Central African Republic', 'CF'),
('Chad', 'TD'),
('Chile', 'CL'),
('China', 'CN'),
('Christmas Island', 'CX'),
('Cocos (Keeling) Islands', 'CC'),
('Colombia', 'CO'),
('Comoros', 'KM'),
('Congo', 'CG'),
('Congo, Democratic Republic', 'CD'),
('Cook Islands', 'CK'),
('Costa Rica', 'CR'),
('Croatia', 'HR'),
('Cuba', 'CU'),
('Cyprus', 'CY'),
('Czech Republic', 'CZ'),
('Denmark', 'DK'),
('Djibouti', 'DJ'),
('Dominica', 'DM'),
('Dominican Republic', 'DO'),
('Ecuador', 'EC'),
('Egypt', 'EG'),
('El Salvador', 'SV'),
('Equatorial Guinea', 'GQ'),
('Eritrea', 'ER'),
('Estonia', 'EE'),
('Ethiopia', 'ET'),
('Falkland Islands', 'FK'),
('Faroe Islands', 'FO'),
('Fiji', 'FJ'),
('Finland', 'FI'),
('France', 'FR'),
('French Guiana', 'GF'),
('French Polynesia', 'PF'),
('French Southern Territories', 'TF'),
('Gabon', 'GA'),
('Gambia', 'GM'),
('Georgia', 'GE'),
('Germany', 'DE'),
('Ghana', 'GH'),
('Gibraltar', 'GI'),
('Greece', 'GR'),
('Greenland', 'GL'),
('Grenada', 'GD'),
('Guadeloupe', 'GP'),
('Guam', 'GU'),
('Guatemala', 'GT'),
('Guernsey', 'GG'),
('Guinea', 'GN'),
('Guinea-Bissau', 'GW'),
('Guyana', 'GY'),
('Haiti', 'HT'),
('Heard Island & Mcdonald Islands', 'HM'),
('Holy See (Vatican City State)', 'VA'),
('Honduras', 'HN'),
('Hong Kong', 'HK'),
('Hungary', 'HU'),
('Iceland', 'IS'),
('India', 'IN'),
('Indonesia', 'ID'),
('Iran, Islamic Republic Of', 'IR'),
('Iraq', 'IQ'),
('Ireland', 'IE'),
('Isle of Man', 'IM'),
('Israel', 'IL'),
('Italy', 'IT'),
('Jamaica', 'JM'),
('Japan', 'JP'),
('Jersey', 'JE'),
('Jordan', 'JO'),
('Kazakhstan', 'KZ'),
('Kenya', 'KE'),
('Kiribati', 'KI'),
('Korea', 'KR'),
('Kuwait', 'KW'),
('Kyrgyzstan', 'KG'),
('Lao People''s Democratic Republic', 'LA'),
('Latvia', 'LV'),
('Lebanon', 'LB'),
('Lesotho', 'LS'),
('Liberia', 'LR'),
('Libyan Arab Jamahiriya', 'LY'),
('Liechtenstein', 'LI'),
('Lithuania', 'LT'),
('Luxembourg', 'LU'),
('Macao', 'MO'),
('Macedonia', 'MK'),
('Madagascar', 'MG'),
('Malawi', 'MW'),
('Malaysia', 'MY'),
('Maldives', 'MV'),
('Mali', 'ML'),
('Malta', 'MT'),
('Marshall Islands', 'MH'),
('Martinique', 'MQ'),
('Mauritania', 'MR'),
('Mauritius', 'MU'),
('Mayotte', 'YT'),
('Mexico', 'MX'),
('Micronesia, Federated States of', 'FM'),
('Moldova', 'MD'),
('Monaco', 'MC'),
('Mongolia', 'MN'),
('Montenegro', 'ME'),
('Montserrat', 'MS'),
('Morocco', 'MA'),
('Mozambique', 'MZ'),
('Myanmar', 'MM'),
('Namibia', 'NA'),
('Nauru', 'NR'),
('Nepal', 'NP'),
('Netherlands', 'NL'),
('Netherlands Antilles', 'AN'),
('New Caledonia', 'NC'),
('New Zealand', 'NZ'),
('Nicaragua', 'NI'),
('Niger', 'NE'),
('Nigeria', 'NG'),
('Niue', 'NU'),
('Norfolk Island', 'NF'),
('Northern Mariana Islands', 'MP'),
('Norway', 'NO'),
('Oman', 'OM'),
('Pakistan', 'PK'),
('Palau', 'PW'),
('Palestinian Territory, Occupied', 'PS'),
('Panama', 'PA'),
('Papua New Guinea', 'PG'),
('Paraguay', 'PY'),
('Peru', 'PE'),
('Philippines', 'PH'),
('Pitcairn', 'PN'),
('Poland', 'PL'),
('Portugal', 'PT'),
('Puerto Rico', 'PR'),
('Qatar', 'QA'),
('Reunion', 'RE'),
('Romania', 'RO'),
('Russian Federation', 'RU'),
('Rwanda', 'RW'),
('Saint Barthelemy', 'BL'),
('Saint Helena', 'SH'),
('Saint Kitts and Nevis', 'KN'),
('Saint Lucia', 'LC'),
('Saint Martin', 'MF'),
('Saint Pierre and Miquelon', 'PM'),
('Saint Vincent and the Grenadines', 'VC'),
('Samoa', 'WS'),
('San Marino', 'SM'),
('Sao Tome and Principe', 'ST'),
('Saudi Arabia', 'SA'),
('Senegal', 'SN'),
('Serbia', 'RS'),
('Seychelles', 'SC'),
('Sierra Leone', 'SL'),
('Singapore', 'SG'),
('Slovakia', 'SK'),
('Slovenia', 'SI'),
('Solomon Islands', 'SB'),
('Somalia', 'SO'),
('South Africa', 'ZA'),
('South Georgia and Sandwich Isl.', 'GS'),
('Spain', 'ES'),
('Sri Lanka', 'LK'),
('Sudan', 'SD'),
('Suriname', 'SR'),
('Svalbard and Jan Mayen', 'SJ'),
('Swaziland', 'SZ'),
('Sweden', 'SE'),
('Switzerland', 'CH'),
('Syrian Arab Republic', 'SY'),
('Taiwan', 'TW'),
('Tajikistan', 'TJ'),
('Tanzania', 'TZ'),
('Thailand', 'TH'),
('Timor-Leste', 'TL'),
('Togo', 'TG'),
('Tokelau', 'TK'),
('Tonga', 'TO'),
('Trinidad and Tobago', 'TT'),
('Tunisia', 'TN'),
('Turkey', 'TR'),
('Turkmenistan', 'TM'),
('Turks and Caicos Islands', 'TC'),
('Tuvalu', 'TV'),
('Uganda', 'UG'),
('Ukraine', 'UA'),
('United Arab Emirates', 'AE'),
('United Kingdom', 'GB'),
('United States', 'US'),
('United States Outlying Islands', 'UM'),
('Uruguay', 'UY'),
('Uzbekistan', 'UZ'),
('Vanuatu', 'VU'),
('Venezuela', 'VE'),
('Viet Nam', 'VN'),
('Virgin Islands, British', 'VG'),
('Virgin Islands, U.S.', 'VI'),
('Wallis and Futuna', 'WF'),
('Western Sahara', 'EH'),
('Yemen', 'YE'),
('Zambia', 'ZM'),
('Zimbabwe', 'ZW');

-- INSERT de tipos de vías en Colombia
INSERT INTO street_type (name) VALUES
('Calle'),
('Carrera'),
('Avenida'),
('Avenida Calle'),
('Avenida Carrera'),
('Diagonal'),
('Transversal'),
('Circular'),
('Circunvalar'),
('Autopista'),
('Vía'),
('Camino'),
('Pasaje'),
('Paseo'),
('Bulevar'),
('Glorieta'),
('Manzana'),
('Kilómetro'),
('Vereda'),
('Sector'),
('Barrio'),
('Urbanización'),
('Conjunto'),
('Edificio'),
('Torre'),
('Bloque'),
('Etapa'),
('Interior'),
('Local'),
('Bodega'),
('Lote'),
('Predio'),
('Finca'),
('Hacienda'),
('Parcelación');

-- Primero necesitas obtener el ID de Colombia
-- SELECT id FROM country WHERE code = 'CO'; -- Esto debería devolver el ID de Colombia

-- INSERT de todos los departamentos de Colombia
INSERT INTO state_department (name, code, country_id) VALUES
('Amazonas', 'AMA', (SELECT id FROM country WHERE code = 'CO')),
('Antioquia', 'ANT', (SELECT id FROM country WHERE code = 'CO')),
('Arauca', 'ARA', (SELECT id FROM country WHERE code = 'CO')),
('Atlántico', 'ATL', (SELECT id FROM country WHERE code = 'CO')),
('Bolívar', 'BOL', (SELECT id FROM country WHERE code = 'CO')),
('Boyacá', 'BOY', (SELECT id FROM country WHERE code = 'CO')),
('Caldas', 'CAL', (SELECT id FROM country WHERE code = 'CO')),
('Caquetá', 'CAQ', (SELECT id FROM country WHERE code = 'CO')),
('Casanare', 'CAS', (SELECT id FROM country WHERE code = 'CO')),
('Cauca', 'CAU', (SELECT id FROM country WHERE code = 'CO')),
('Cesar', 'CES', (SELECT id FROM country WHERE code = 'CO')),
('Chocó', 'CHO', (SELECT id FROM country WHERE code = 'CO')),
('Córdoba', 'COR', (SELECT id FROM country WHERE code = 'CO')),
('Cundinamarca', 'CUN', (SELECT id FROM country WHERE code = 'CO')),
('Guainía', 'GUA', (SELECT id FROM country WHERE code = 'CO')),
('Guaviare', 'GUV', (SELECT id FROM country WHERE code = 'CO')),
('Huila', 'HUI', (SELECT id FROM country WHERE code = 'CO')),
('La Guajira', 'LAG', (SELECT id FROM country WHERE code = 'CO')),
('Magdalena', 'MAG', (SELECT id FROM country WHERE code = 'CO')),
('Meta', 'MET', (SELECT id FROM country WHERE code = 'CO')),
('Nariño', 'NAR', (SELECT id FROM country WHERE code = 'CO')),
('Norte de Santander', 'NSA', (SELECT id FROM country WHERE code = 'CO')),
('Putumayo', 'PUT', (SELECT id FROM country WHERE code = 'CO')),
('Quindío', 'QUI', (SELECT id FROM country WHERE code = 'CO')),
('Risaralda', 'RIS', (SELECT id FROM country WHERE code = 'CO')),
('San Andrés y Providencia', 'SAP', (SELECT id FROM country WHERE code = 'CO')),
('Santander', 'SAN', (SELECT id FROM country WHERE code = 'CO')),
('Sucre', 'SUC', (SELECT id FROM country WHERE code = 'CO')),
('Tolima', 'TOL', (SELECT id FROM country WHERE code = 'CO')),
('Valle del Cauca', 'VAC', (SELECT id FROM country WHERE code = 'CO')),
('Vaupés', 'VAU', (SELECT id FROM country WHERE code = 'CO')),
('Vichada', 'VID', (SELECT id FROM country WHERE code = 'CO')),
('Bogotá D.C.', 'BOG', (SELECT id FROM country WHERE code = 'CO'));

-- INSERT municipios santander

-- SANTANDER (87 municipios)
INSERT INTO city (name, code, state_department_id) VALUES
('Bucaramanga', 'BGA', (SELECT id FROM state_department WHERE code = 'SAN')),
('Aguada', 'AGU', (SELECT id FROM state_department WHERE code = 'SAN')),
('Albania', 'ALB', (SELECT id FROM state_department WHERE code = 'SAN')),
('Aratoca', 'ARA', (SELECT id FROM state_department WHERE code = 'SAN')),
('Barbosa', 'BAR', (SELECT id FROM state_department WHERE code = 'SAN')),
('Barichara', 'BRC', (SELECT id FROM state_department WHERE code = 'SAN')),
('Barrancabermeja', 'EJA', (SELECT id FROM state_department WHERE code = 'SAN')),
('Betulia', 'BET', (SELECT id FROM state_department WHERE code = 'SAN')),
('Bolívar', 'BOL', (SELECT id FROM state_department WHERE code = 'SAN')),
('Cabrera', 'CAB', (SELECT id FROM state_department WHERE code = 'SAN')),
('California', 'CAL', (SELECT id FROM state_department WHERE code = 'SAN')),
('Capitanejo', 'CAP', (SELECT id FROM state_department WHERE code = 'SAN')),
('Carcasí', 'CAR', (SELECT id FROM state_department WHERE code = 'SAN')),
('Cepitá', 'CEP', (SELECT id FROM state_department WHERE code = 'SAN')),
('Cerrito', 'CER', (SELECT id FROM state_department WHERE code = 'SAN')),
('Charalá', 'CHA', (SELECT id FROM state_department WHERE code = 'SAN')),
('Charta', 'CHT', (SELECT id FROM state_department WHERE code = 'SAN')),
('Chima', 'CHI', (SELECT id FROM state_department WHERE code = 'SAN')),
('Chipatá', 'CHP', (SELECT id FROM state_department WHERE code = 'SAN')),
('Cimitarra', 'CIM', (SELECT id FROM state_department WHERE code = 'SAN')),
('Concepción', 'CON', (SELECT id FROM state_department WHERE code = 'SAN')),
('Confines', 'CNF', (SELECT id FROM state_department WHERE code = 'SAN')),
('Contratación', 'CTR', (SELECT id FROM state_department WHERE code = 'SAN')),
('Coromoro', 'COR', (SELECT id FROM state_department WHERE code = 'SAN')),
('Curití', 'CUR', (SELECT id FROM state_department WHERE code = 'SAN')),
('El Carmen de Chucurí', 'ECC', (SELECT id FROM state_department WHERE code = 'SAN')),
('El Guacamayo', 'EGU', (SELECT id FROM state_department WHERE code = 'SAN')),
('El Peñón', 'EPE', (SELECT id FROM state_department WHERE code = 'SAN')),
('El Playón', 'EPL', (SELECT id FROM state_department WHERE code = 'SAN')),
('Encino', 'ENC', (SELECT id FROM state_department WHERE code = 'SAN')),
('Enciso', 'ENS', (SELECT id FROM state_department WHERE code = 'SAN')),
('Florián', 'FLO', (SELECT id FROM state_department WHERE code = 'SAN')),
('Floridablanca', 'FBL', (SELECT id FROM state_department WHERE code = 'SAN')),
('Galán', 'GAL', (SELECT id FROM state_department WHERE code = 'SAN')),
('Gámbita', 'GAM', (SELECT id FROM state_department WHERE code = 'SAN')),
('Girón', 'GIR', (SELECT id FROM state_department WHERE code = 'SAN')),
('Guaca', 'GUA', (SELECT id FROM state_department WHERE code = 'SAN')),
('Guadalupe', 'GDL', (SELECT id FROM state_department WHERE code = 'SAN')),
('Guapotá', 'GUP', (SELECT id FROM state_department WHERE code = 'SAN')),
('Guavatá', 'GVT', (SELECT id FROM state_department WHERE code = 'SAN')),
('Güepsa', 'GUE', (SELECT id FROM state_department WHERE code = 'SAN')),
('Hato', 'HAT', (SELECT id FROM state_department WHERE code = 'SAN')),
('Jesús María', 'JMA', (SELECT id FROM state_department WHERE code = 'SAN')),
('Jordán', 'JOR', (SELECT id FROM state_department WHERE code = 'SAN')),
('La Belleza', 'LBE', (SELECT id FROM state_department WHERE code = 'SAN')),
('Landázuri', 'LAN', (SELECT id FROM state_department WHERE code = 'SAN')),
('La Paz', 'LPA', (SELECT id FROM state_department WHERE code = 'SAN')),
('Lebrija', 'LEB', (SELECT id FROM state_department WHERE code = 'SAN')),
('Los Santos', 'LSA', (SELECT id FROM state_department WHERE code = 'SAN')),
('Macaravita', 'MAC', (SELECT id FROM state_department WHERE code = 'SAN')),
('Málaga', 'MAL', (SELECT id FROM state_department WHERE code = 'SAN')),
('Matanza', 'MAT', (SELECT id FROM state_department WHERE code = 'SAN')),
('Mogotes', 'MOG', (SELECT id FROM state_department WHERE code = 'SAN')),
('Molagavita', 'MOL', (SELECT id FROM state_department WHERE code = 'SAN')),
('Ocamonte', 'OCA', (SELECT id FROM state_department WHERE code = 'SAN')),
('Oiba', 'OIB', (SELECT id FROM state_department WHERE code = 'SAN')),
('Onzaga', 'ONZ', (SELECT id FROM state_department WHERE code = 'SAN')),
('Palmar', 'PAL', (SELECT id FROM state_department WHERE code = 'SAN')),
('Palmas del Socorro', 'PDS', (SELECT id FROM state_department WHERE code = 'SAN')),
('Páramo', 'PAR', (SELECT id FROM state_department WHERE code = 'SAN')),
('Piedecuesta', 'PIE', (SELECT id FROM state_department WHERE code = 'SAN')),
('Pinchote', 'PIN', (SELECT id FROM state_department WHERE code = 'SAN')),
('Puente Nacional', 'PNA', (SELECT id FROM state_department WHERE code = 'SAN')),
('Puerto Parra', 'PPA', (SELECT id FROM state_department WHERE code = 'SAN')),
('Puerto Wilches', 'PWI', (SELECT id FROM state_department WHERE code = 'SAN')),
('Rionegro', 'RIO', (SELECT id FROM state_department WHERE code = 'SAN')),
('Sabana de Torres', 'SDT', (SELECT id FROM state_department WHERE code = 'SAN')),
('San Andrés', 'SAN', (SELECT id FROM state_department WHERE code = 'SAN')),
('San Benito', 'SBE', (SELECT id FROM state_department WHERE code = 'SAN')),
('San Gil', 'SGI', (SELECT id FROM state_department WHERE code = 'SAN')),
('San Joaquín', 'SJO', (SELECT id FROM state_department WHERE code = 'SAN')),
('San José de Miranda', 'SJM', (SELECT id FROM state_department WHERE code = 'SAN')),
('San Miguel', 'SMI', (SELECT id FROM state_department WHERE code = 'SAN')),
('San Vicente de Chucurí', 'SVC', (SELECT id FROM state_department WHERE code = 'SAN')),
('Santa Bárbara', 'SBA', (SELECT id FROM state_department WHERE code = 'SAN')),
('Santa Helena del Opón', 'SHO', (SELECT id FROM state_department WHERE code = 'SAN')),
('Simacota', 'SIM', (SELECT id FROM state_department WHERE code = 'SAN')),
('Socorro', 'SOC', (SELECT id FROM state_department WHERE code = 'SAN')),
('Suaita', 'SUA', (SELECT id FROM state_department WHERE code = 'SAN')),
('Sucre', 'SUC', (SELECT id FROM state_department WHERE code = 'SAN')),
('Suratá', 'SUR', (SELECT id FROM state_department WHERE code = 'SAN')),
('Tona', 'TON', (SELECT id FROM state_department WHERE code = 'SAN')),
('Valle de San José', 'VSJ', (SELECT id FROM state_department WHERE code = 'SAN')),
('Vélez', 'VEL', (SELECT id FROM state_department WHERE code = 'SAN')),
('Vetas', 'VET', (SELECT id FROM state_department WHERE code = 'SAN')),
('Villanueva', 'VNU', (SELECT id FROM state_department WHERE code = 'SAN')),
('Zapatoca', 'ZAP', (SELECT id FROM state_department WHERE code = 'SAN'));



--RESTAURANTES Y USUARIOS

-- 1. Insertar direcciones en Bucaramanga para los usuarios
INSERT INTO address (street_type_id, main_number, secondary_number, property_number, complement, neighborhood, postal_code, city_id, state_department_id, country_id) VALUES
-- Dirección 1: Calle 45 #23-12, Apt 301
((SELECT id FROM street_type WHERE name = 'Calle'), 45, 23, 12, 'Apt 301', 'Centro', '680003', 
 (SELECT id FROM city WHERE name = 'Bucaramanga'), 
 (SELECT id FROM state_department WHERE code = 'SAN'),
 (SELECT id FROM country WHERE code = 'CO')),

-- Dirección 2: Carrera 33 #45-67, Casa 15
((SELECT id FROM street_type WHERE name = 'Carrera'), 33, 45, 67, 'Casa 15', 'Cabecera del Llano', '680003', 
 (SELECT id FROM city WHERE name = 'Bucaramanga'), 
 (SELECT id FROM state_department WHERE code = 'SAN'),
 (SELECT id FROM country WHERE code = 'CO')),

-- Dirección 3: Calle 56 #78-90, Torre 2 Apt 502
((SELECT id FROM street_type WHERE name = 'Calle'), 56, 78, 90, 'Torre 2 Apt 502', 'El Prado', '680003', 
 (SELECT id FROM city WHERE name = 'Bucaramanga'), 
 (SELECT id FROM state_department WHERE code = 'SAN'),
 (SELECT id FROM country WHERE code = 'CO')),

-- Dirección 4: Carrera 27 #34-56, Local 3
((SELECT id FROM street_type WHERE name = 'Carrera'), 27, 34, 56, 'Local 3', 'García Rovira', '680003', 
 (SELECT id FROM city WHERE name = 'Bucaramanga'), 
 (SELECT id FROM state_department WHERE code = 'SAN'),
 (SELECT id FROM country WHERE code = 'CO')),

-- Dirección 5: Carrera 25 #6-10 (Restaurante)
((SELECT id FROM street_type WHERE name = 'Carrera'), 25, 6, 10, NULL, 'Centro', '680003', 
 (SELECT id FROM city WHERE name = 'Bucaramanga'), 
 (SELECT id FROM state_department WHERE code = 'SAN'),
 (SELECT id FROM country WHERE code = 'CO'));

-- 2. Crear los 4 usuarios
INSERT INTO "user" (username, email, password_hash, first_name, last_name, address_id, phone) VALUES
('greyler_waiter', 'greylerchacon0@gmail.com', '$2a$10$J09fakR55rfE8Z23A9vhbex3/qM3qzu6DDJjGTiiwQWXgTg/pt8oa', 'Greyler', 'Chacon', 
 (SELECT id FROM address WHERE main_number = 45 AND secondary_number = 23 AND property_number = 12 AND complement = 'Apt 301'), '3201234567'),

('tomas_admin', 'tomasggrdev@gmail.com', '$2a$10$IOJaX4w6m9mvz7zLawViwuPngz5Govo6xLyuCg3ue00YCziI8B2rm', 'Tomas', 'Gonzalez', 
 (SELECT id FROM address WHERE main_number = 33 AND secondary_number = 45 AND property_number = 67 AND complement = 'Casa 15'), '3176000792'),

('jhon_cashier', 'jhoncalderon20174@gmail.com', '$2a$10$7oifnm1kVYM74fJR0hYTAuL/Yllv4otG69I.jJjoW8D0yTBC3Bodi', 'Jhon', 'Calderon', 
 (SELECT id FROM address WHERE main_number = 56 AND secondary_number = 78 AND property_number = 90 AND complement = 'Torre 2 Apt 502'), '3157894561'),

('damian_owner', 'damian@gmail.com', '$2a$10$AcKmPvgb/z.Rd23qXrHGyud1ygnJU1yMpj8SRsyXCae8rP07jZOUy', 'Damian', 'aunza', 
 (SELECT id FROM address WHERE main_number = 27 AND secondary_number = 34 AND property_number = 56 AND complement = 'Local 3'), '3123456789');

-- 3. Crear el restaurante Puerto Marino
INSERT INTO restaurant (
    nit, 
    dv, 
    address_id, 
    legal_name, 
    comercial_name, 
    person_type, 
    tax_regime, 
    tax_responsibilities,
    dian_resolution_id, 
    dian_resolution_expedition, 
    dian_resolution_expiration, 
    dian_billing_range_start, 
    dian_billing_range_end, 
    dian_billing_prefix, 
    dian_email
) VALUES (
    '9001234567', 
    '1', 
    (SELECT id FROM address WHERE main_number = 25 AND secondary_number = 6 AND property_number = 10 AND complement IS NULL), 
    'Puerto Marino S.A.S.', 
    'Puerto Marino', 
    'Jurídica', 
    'Régimen Ordinario', 
    'Grandes Contribuyentes, Retención en la Fuente', 
    '18764009876543', 
    '2024-01-15', 
    '2026-01-15', 
    1, 
    50000, 
    'PM', 
    'facturacion@puertomarino.com'
);

-- 4. Asignar roles a los usuarios en el restaurante
INSERT INTO user_restaurant (role, restaurant_id, user_id) VALUES
('WAITER', 
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'), 
 (SELECT id FROM "user" WHERE username = 'greyler_waiter')),

('ADMIN', 
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'), 
 (SELECT id FROM "user" WHERE username = 'tomas_admin')),

('CASHIER', 
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'), 
 (SELECT id FROM "user" WHERE username = 'jhon_cashier')),

('OWNER', 
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'), 
 (SELECT id FROM "user" WHERE username = 'damian_owner'));


-- =====================================================
-- CATEGORÍAS DE CONSUMIBLES - Puerto Marino
-- =====================================================

INSERT INTO consumable_category (name, description, restaurant_id) VALUES
('Entradas', 'Platos de entrada y aperitivos', (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Platos Fuertes', 'Platos principales del menú', (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mariscos', 'Especialidades de mariscos frescos', (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Pescados', 'Variedades de pescados', (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Bebidas Frías', 'Jugos, gaseosas y cervezas', (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Bebidas Calientes', 'Café, té y chocolate', (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Postres', 'Postres y dulces', (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'));


-- =====================================================
-- CONSUMIBLES - Puerto Marino
-- =====================================================

-- Entradas
INSERT INTO consumable (name, description, sku, category_id, restaurant_id, unit_price, time_slots, ingredients, image_url, nutritional_info) VALUES
('Ceviche de Camarón', 'Camarón fresco marinado en limón con cebolla y cilantro', 'PM-ENT-001',
 (SELECT id FROM consumable_category WHERE name = 'Entradas' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 28000, '{"lunch": true, "dinner": true}', 
 '[{"ingredient": "Camarón", "weight": 150}, {"ingredient": "Limón", "weight": 30}, {"ingredient": "Cebolla roja", "weight": 20}, {"ingredient": "Cilantro", "weight": 10}]',
 'https://images.puertomarino.com/consumables/ceviche-camaron.jpg',
 '{"calories": 180, "protein": 25, "carbs": 12, "fats": 4}'),

('Patacones con Hogao', 'Plátano verde frito con salsa de tomate y cebolla', 'PM-ENT-002',
 (SELECT id FROM consumable_category WHERE name = 'Entradas' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 15000, '{"lunch": true, "dinner": true}',
 '[{"ingredient": "Plátano verde", "weight": 200}, {"ingredient": "Aceite", "weight": 30}, {"ingredient": "Tomate", "weight": 50}, {"ingredient": "Cebolla", "weight": 30}]',
 'https://images.puertomarino.com/consumables/patacones-hogao.jpg',
 '{"calories": 320, "protein": 3, "carbs": 45, "fats": 15}'),

('Empanadas de Camarón', 'Empanadas rellenas de camarón (3 unidades)', 'PM-ENT-003',
 (SELECT id FROM consumable_category WHERE name = 'Entradas' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 18000, '{"lunch": true, "dinner": true}',
 '[{"ingredient": "Masa de maíz", "weight": 120}, {"ingredient": "Camarón", "weight": 100}, {"ingredient": "Cebolla", "weight": 20}, {"ingredient": "Pimentón", "weight": 15}]',
 'https://images.puertomarino.com/consumables/empanadas-camaron.jpg',
 '{"calories": 420, "protein": 18, "carbs": 38, "fats": 22}');

-- Mariscos
INSERT INTO consumable (name, description, sku, category_id, restaurant_id, unit_price, time_slots, ingredients, image_url, nutritional_info) VALUES
('Arroz con Camarones', 'Arroz marinero con camarones tigre y vegetales', 'PM-MAR-001',
 (SELECT id FROM consumable_category WHERE name = 'Mariscos' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 45000, '{"lunch": true, "dinner": true}',
 '[{"ingredient": "Arroz", "weight": 200}, {"ingredient": "Camarones", "weight": 180}, {"ingredient": "Vegetales", "weight": 80}]',
 'https://images.puertomarino.com/consumables/arroz-camarones.jpg',
 '{"calories": 520, "protein": 32, "carbs": 68, "fats": 12}'),

('Cazuela de Mariscos', 'Mezcla de mariscos en salsa de coco', 'PM-MAR-002',
 (SELECT id FROM consumable_category WHERE name = 'Mariscos' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 52000, '{"lunch": true, "dinner": true}',
 '[{"ingredient": "Camarones", "weight": 100}, {"ingredient": "Calamares", "weight": 80}, {"ingredient": "Mejillones", "weight": 70}, {"ingredient": "Leche de coco", "weight": 150}]',
 'https://images.puertomarino.com/consumables/cazuela-mariscos.jpg',
 '{"calories": 480, "protein": 38, "carbs": 22, "fats": 28}'),

('Langostinos al Ajillo', 'Langostinos frescos salteados en mantequilla y ajo', 'PM-MAR-003',
 (SELECT id FROM consumable_category WHERE name = 'Mariscos' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 58000, '{"lunch": true, "dinner": true}',
 '[{"ingredient": "Langostinos", "weight": 250}, {"ingredient": "Ajo", "weight": 20}, {"ingredient": "Mantequilla", "weight": 40}]',
 'https://images.puertomarino.com/consumables/langostinos-ajillo.jpg',
 '{"calories": 380, "protein": 42, "carbs": 8, "fats": 20}'),

('Camarones Apanados', 'Camarones empanizados con salsa tártara', 'PM-MAR-004',
 (SELECT id FROM consumable_category WHERE name = 'Mariscos' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 42000, '{"lunch": true, "dinner": true}',
 '[{"ingredient": "Camarones", "weight": 200}, {"ingredient": "Pan rallado", "weight": 50}, {"ingredient": "Huevo", "weight": 30}]',
 'https://images.puertomarino.com/consumables/camarones-apanados.jpg',
 '{"calories": 450, "protein": 35, "carbs": 28, "fats": 22}');

-- Pescados
INSERT INTO consumable (name, description, sku, category_id, restaurant_id, unit_price, time_slots, ingredients, image_url, nutritional_info) VALUES
('Pargo Rojo Frito', 'Pargo rojo entero frito con patacón y ensalada', 'PM-PES-001',
 (SELECT id FROM consumable_category WHERE name = 'Pescados' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 48000, '{"lunch": true, "dinner": true}',
 '[{"ingredient": "Pargo rojo", "weight": 400}, {"ingredient": "Plátano verde", "weight": 150}, {"ingredient": "Ensalada", "weight": 80}]',
 'https://images.puertomarino.com/consumables/pargo-rojo-frito.jpg',
 '{"calories": 580, "protein": 48, "carbs": 35, "fats": 26}'),

('Mojarra Frita', 'Mojarra entera frita con arroz de coco y patacón', 'PM-PES-002',
 (SELECT id FROM consumable_category WHERE name = 'Pescados' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 38000, '{"lunch": true, "dinner": true}',
 '[{"ingredient": "Mojarra", "weight": 350}, {"ingredient": "Arroz", "weight": 150}, {"ingredient": "Coco rallado", "weight": 40}]',
 'https://images.puertomarino.com/consumables/mojarra-frita.jpg',
 '{"calories": 620, "protein": 42, "carbs": 58, "fats": 22}'),

('Filete de Róbalo a la Plancha', 'Filete de róbalo con vegetales salteados', 'PM-PES-003',
 (SELECT id FROM consumable_category WHERE name = 'Pescados' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 44000, '{"lunch": true, "dinner": true}',
 '[{"ingredient": "Róbalo", "weight": 250}, {"ingredient": "Vegetales mixtos", "weight": 120}, {"ingredient": "Aceite de oliva", "weight": 15}]',
 'https://images.puertomarino.com/consumables/robalo-plancha.jpg',
 '{"calories": 340, "protein": 45, "carbs": 18, "fats": 12}'),

('Trucha al Ajillo', 'Trucha fresca en salsa de ajo y mantequilla', 'PM-PES-004',
 (SELECT id FROM consumable_category WHERE name = 'Pescados' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 40000, '{"lunch": true, "dinner": true}',
 '[{"ingredient": "Trucha", "weight": 300}, {"ingredient": "Ajo", "weight": 25}, {"ingredient": "Mantequilla", "weight": 35}]',
 'https://images.puertomarino.com/consumables/trucha-ajillo.jpg',
 '{"calories": 420, "protein": 38, "carbs": 6, "fats": 28}');

-- Bebidas Frías
INSERT INTO consumable (name, description, sku, category_id, restaurant_id, unit_price, time_slots, ingredients, image_url, nutritional_info) VALUES
('Limonada Natural', 'Limonada natural con hielo', 'PM-BEB-001',
 (SELECT id FROM consumable_category WHERE name = 'Bebidas Frías' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 8000, '{"breakfast": true, "lunch": true, "dinner": true}',
 '[{"ingredient": "Limón", "weight": 80}, {"ingredient": "Agua", "weight": 300}, {"ingredient": "Azúcar", "weight": 30}]',
 'https://images.puertomarino.com/consumables/limonada-natural.jpg',
 '{"calories": 120, "protein": 0, "carbs": 30, "fats": 0}'),

('Jugo de Maracuyá', 'Jugo natural de maracuyá', 'PM-BEB-002',
 (SELECT id FROM consumable_category WHERE name = 'Bebidas Frías' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 9000, '{"breakfast": true, "lunch": true, "dinner": true}',
 '[{"ingredient": "Maracuyá", "weight": 100}, {"ingredient": "Agua", "weight": 300}, {"ingredient": "Azúcar", "weight": 35}]',
 'https://images.puertomarino.com/consumables/jugo-maracuya.jpg',
 '{"calories": 140, "protein": 2, "carbs": 35, "fats": 0}'),

('Coca Cola', 'Gaseosa Coca Cola 350ml', 'PM-BEB-003',
 (SELECT id FROM consumable_category WHERE name = 'Bebidas Frías' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 5000, '{"breakfast": true, "lunch": true, "dinner": true}',
 '[{"ingredient": "Coca Cola", "weight": 350}]',
 'https://images.puertomarino.com/consumables/coca-cola.jpg',
 '{"calories": 140, "protein": 0, "carbs": 39, "fats": 0}'),

('Cerveza Águila', 'Cerveza Águila 330ml', 'PM-BEB-004',
 (SELECT id FROM consumable_category WHERE name = 'Bebidas Frías' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 6000, '{"lunch": true, "dinner": true}',
 '[{"ingredient": "Cerveza Águila", "weight": 330}]',
 'https://images.puertomarino.com/consumables/cerveza-aguila.jpg',
 '{"calories": 150, "protein": 1, "carbs": 13, "fats": 0}');

-- Bebidas Calientes
INSERT INTO consumable (name, description, sku, category_id, restaurant_id, unit_price, time_slots, ingredients, image_url, nutritional_info) VALUES
('Café Tinto', 'Café colombiano tradicional', 'PM-BEB-005',
 (SELECT id FROM consumable_category WHERE name = 'Bebidas Calientes' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 3000, '{"breakfast": true, "lunch": true, "dinner": true}',
 '[{"ingredient": "Café molido", "weight": 10}, {"ingredient": "Agua", "weight": 150}]',
 'https://images.puertomarino.com/consumables/cafe-tinto.jpg',
 '{"calories": 5, "protein": 0, "carbs": 1, "fats": 0}'),

('Chocolate Caliente', 'Chocolate santafereño con queso', 'PM-BEB-006',
 (SELECT id FROM consumable_category WHERE name = 'Bebidas Calientes' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 7000, '{"breakfast": true}',
 '[{"ingredient": "Chocolate en barra", "weight": 40}, {"ingredient": "Leche", "weight": 250}, {"ingredient": "Queso", "weight": 30}]',
 'https://images.puertomarino.com/consumables/chocolate-caliente.jpg',
 '{"calories": 280, "protein": 12, "carbs": 32, "fats": 12}');

-- Postres
INSERT INTO consumable (name, description, sku, category_id, restaurant_id, unit_price, time_slots, ingredients, image_url, nutritional_info) VALUES
('Tres Leches', 'Torta tres leches casera', 'PM-POS-001',
 (SELECT id FROM consumable_category WHERE name = 'Postres' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 12000, '{"lunch": true, "dinner": true}',
 '[{"ingredient": "Bizcocho", "weight": 80}, {"ingredient": "Leche condensada", "weight": 50}, {"ingredient": "Leche evaporada", "weight": 50}, {"ingredient": "Crema de leche", "weight": 40}]',
 'https://images.puertomarino.com/consumables/tres-leches.jpg',
 '{"calories": 380, "protein": 8, "carbs": 52, "fats": 16}'),

('Flan de Caramelo', 'Flan casero con caramelo', 'PM-POS-002',
 (SELECT id FROM consumable_category WHERE name = 'Postres' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 10000, '{"lunch": true, "dinner": true}',
 '[{"ingredient": "Huevos", "weight": 60}, {"ingredient": "Leche", "weight": 150}, {"ingredient": "Azúcar", "weight": 50}, {"ingredient": "Vainilla", "weight": 5}]',
 'https://images.puertomarino.com/consumables/flan-caramelo.jpg',
 '{"calories": 280, "protein": 10, "carbs": 42, "fats": 8}'),

('Helado de Coco', 'Helado artesanal de coco', 'PM-POS-003',
 (SELECT id FROM consumable_category WHERE name = 'Postres' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 8000, '{"lunch": true, "dinner": true}',
 '[{"ingredient": "Leche de coco", "weight": 200}, {"ingredient": "Azúcar", "weight": 40}, {"ingredient": "Coco rallado", "weight": 30}]',
 'https://images.puertomarino.com/consumables/helado-coco.jpg',
 '{"calories": 220, "protein": 3, "carbs": 28, "fats": 12}');



-- =====================================================
-- ZONAS Y MESAS - Puerto Marino
-- =====================================================

-- Crear las 4 zonas
INSERT INTO zone (name, description, color, restaurant_id) VALUES
('Planta 1', 'Primera planta del restaurante', '#FF6B6B', (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Planta 2', 'Segunda planta del restaurante', '#4ECDC4', (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Planta 3', 'Tercera planta del restaurante', '#95E1D3', (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Planta 4', 'Cuarta planta del restaurante', '#F38181', (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'));

-- Mesas Planta 1 (12 mesas)
INSERT INTO "table" (name, capacity, status, zone_id, restaurant_id) VALUES
('Mesa 1', 4, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 1' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 2', 6, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 1' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 3', 4, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 1' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 4', 8, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 1' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 5', 6, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 1' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 6', 4, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 1' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 7', 5, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 1' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 8', 6, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 1' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 9', 4, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 1' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 10', 8, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 1' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 11', 5, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 1' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 12', 6, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 1' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'));

-- Mesas Planta 2 (13 mesas)
INSERT INTO "table" (name, capacity, status, zone_id, restaurant_id) VALUES
('Mesa 1', 4, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 2' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 2', 6, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 2' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 3', 5, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 2' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 4', 4, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 2' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 5', 8, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 2' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 6', 6, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 2' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 7', 4, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 2' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 8', 5, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 2' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 9', 6, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 2' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 10', 4, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 2' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 11', 8, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 2' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 12', 5, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 2' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 13', 6, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 2' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'));

-- Mesas Planta 3 (10 mesas)
INSERT INTO "table" (name, capacity, status, zone_id, restaurant_id) VALUES
('Mesa 1', 6, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 3' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 2', 4, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 3' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 3', 5, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 3' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 4', 8, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 3' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 5', 4, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 3' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 6', 6, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 3' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 7', 5, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 3' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 8', 4, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 3' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 9', 6, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 3' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 10', 8, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 3' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'));

-- Mesas Planta 4 (11 mesas)
INSERT INTO "table" (name, capacity, status, zone_id, restaurant_id) VALUES
('Mesa 1', 4, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 4' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 2', 6, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 4' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 3', 5, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 4' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 4', 4, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 4' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 5', 8, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 4' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 6', 6, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 4' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 7', 4, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 4' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 8', 5, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 4' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 9', 6, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 4' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 10', 8, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 4' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
('Mesa 11', 4, 'AVAILABLE', (SELECT id FROM zone WHERE name = 'Planta 4' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')), (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'));

-- =====================================================
-- ÓRDENES DE EJEMPLO - Puerto Marino
-- =====================================================

-- Crear algunas órdenes para mesas ocupadas
INSERT INTO "order" (order_number, restaurant_id, table_id, seller_id, status, total_amount, iva, inc, currency) VALUES
(1, 
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 (SELECT id FROM "table" WHERE name = 'Mesa 2' AND zone_id = (SELECT id FROM zone WHERE name = 'Planta 1' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')) AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM "user" WHERE username = 'greyler_waiter'),
 'PENDING', 95000.00, NULL, 0.08, 'COP'),
(2,
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 (SELECT id FROM "table" WHERE name = 'Mesa 5' AND zone_id = (SELECT id FROM zone WHERE name = 'Planta 2' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')) AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM "user" WHERE username = 'greyler_waiter'),
 'PENDING', 128000.00, NULL, 0.08, 'COP'),
(3,
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 (SELECT id FROM "table" WHERE name = 'Mesa 4' AND zone_id = (SELECT id FROM zone WHERE name = 'Planta 3' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')) AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM "user" WHERE username = 'greyler_waiter'),
 'PENDING', 156000.00, NULL, 0.08, 'COP'),
(4,
 (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'),
 (SELECT id FROM "table" WHERE name = 'Mesa 7' AND zone_id = (SELECT id FROM zone WHERE name = 'Planta 4' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')) AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
 (SELECT id FROM "user" WHERE username = 'greyler_waiter'),
 'PENDING', 72000.00, NULL, 0.08, 'COP');
 

-- Actualizar mesas ocupadas con current_order_id y occupied_since
UPDATE "table" SET 
    status = 'OCCUPIED',
    current_order_id = (SELECT id FROM "order" WHERE order_number = 1 AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
    occupied_since = CURRENT_TIMESTAMP - INTERVAL '45 minutes',
    responsable_id = (SELECT id FROM "user" WHERE username = 'greyler_waiter')
WHERE name = 'Mesa 2' AND zone_id = (SELECT id FROM zone WHERE name = 'Planta 1' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'));

UPDATE "table" SET 
    status = 'OCCUPIED',
    current_order_id = (SELECT id FROM "order" WHERE order_number = 2 AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
    occupied_since = CURRENT_TIMESTAMP - INTERVAL '30 minutes',
    responsable_id = (SELECT id FROM "user" WHERE username = 'greyler_waiter')
WHERE name = 'Mesa 5' AND zone_id = (SELECT id FROM zone WHERE name = 'Planta 2' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'));

UPDATE "table" SET 
    status = 'OCCUPIED',
    current_order_id = (SELECT id FROM "order" WHERE order_number = 3 AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
    occupied_since = CURRENT_TIMESTAMP - INTERVAL '1 hour',
    responsable_id = (SELECT id FROM "user" WHERE username = 'greyler_waiter')
WHERE name = 'Mesa 4' AND zone_id = (SELECT id FROM zone WHERE name = 'Planta 3' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'));

UPDATE "table" SET 
    status = 'OCCUPIED',
    current_order_id = (SELECT id FROM "order" WHERE order_number = 4 AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino')),
    occupied_since = CURRENT_TIMESTAMP - INTERVAL '20 minutes',
    responsable_id = (SELECT id FROM "user" WHERE username = 'greyler_waiter')
WHERE name = 'Mesa 7' AND zone_id = (SELECT id FROM zone WHERE name = 'Planta 4' AND restaurant_id = (SELECT id FROM restaurant WHERE comercial_name = 'Puerto Marino'));


---SCRIPT PARA GENERAR 300 ORDENES  

-- =====================================================
-- GENERACIÓN DE 300 ÓRDENES FINALIZADAS
-- Período: 5 al 25 de noviembre 2025
-- =====================================================

SET search_path TO proyecto_db, public;

-- Función auxiliar para generar timestamp aleatorio entre dos fechas
CREATE OR REPLACE FUNCTION random_timestamp(start_date timestamp, end_date timestamp)
RETURNS timestamp AS $$
BEGIN
    RETURN start_date + random() * (end_date - start_date);
END;
$$ LANGUAGE plpgsql;

-- Variables para IDs
DO $$
DECLARE
    v_restaurant_id INTEGER;
    v_greyler_id UUID;
    v_jhon_id UUID;
    v_tomas_id UUID;
    v_seller_id UUID;
    v_table_id INTEGER;
    v_order_number INTEGER;
    v_total_amount DECIMAL(13,2);
    v_timestamp TIMESTAMP;
    v_seller_names TEXT[] := ARRAY['greyler_waiter', 'jhon_cashier', 'tomas_admin'];
    v_seller_name TEXT;
    v_random_seller_index INTEGER;
    i INTEGER;
BEGIN
    -- Obtener IDs necesarios
    SELECT id INTO v_restaurant_id FROM restaurant WHERE comercial_name = 'Puerto Marino';
    SELECT id INTO v_greyler_id FROM "user" WHERE username = 'greyler_waiter';
    SELECT id INTO v_jhon_id FROM "user" WHERE username = 'jhon_cashier';
    SELECT id INTO v_tomas_id FROM "user" WHERE username = 'tomas_admin';
    
    -- Obtener el último order_number actual
    SELECT COALESCE(MAX(order_number), 4) INTO v_order_number 
    FROM "order" WHERE restaurant_id = v_restaurant_id;
    
    -- Generar 300 órdenes
    FOR i IN 1..300 LOOP
        v_order_number := v_order_number + 1;
        
        -- Seleccionar vendedor aleatorio
        v_random_seller_index := floor(random() * 3 + 1)::INTEGER;
        v_seller_name := v_seller_names[v_random_seller_index];
        
        v_seller_id := CASE v_seller_name
            WHEN 'greyler_waiter' THEN v_greyler_id
            WHEN 'jhon_cashier' THEN v_jhon_id
            WHEN 'tomas_admin' THEN v_tomas_id
        END;
        
        -- Seleccionar mesa aleatoria
        SELECT id INTO v_table_id 
        FROM "table" 
        WHERE restaurant_id = v_restaurant_id 
        ORDER BY random() 
        LIMIT 1;
        
        -- Generar monto total aleatorio entre 30,000 y 200,000
        v_total_amount := (30000 + random() * 170000)::DECIMAL(13,2);
        
        -- Generar timestamp aleatorio entre 5 y 25 de noviembre
        v_timestamp := random_timestamp(
            '2025-11-05 08:00:00'::TIMESTAMP,
            '2025-11-25 23:59:59'::TIMESTAMP
        );
        
        -- Insertar orden
        INSERT INTO "order" (
            order_number,
            restaurant_id,
            table_id,
            seller_id,
            status,
            total_amount,
            iva,
            inc,
            currency,
            created_at,
            updated_at,
            payment_method
        ) VALUES (
            v_order_number,
            v_restaurant_id,
            v_table_id,
            v_seller_id,
            'FINISHED',
            v_total_amount,
            19.00,
            0.08,
            'COP',
            v_timestamp,
            v_timestamp + INTERVAL '30 minutes',
            CASE floor(random() * 4)::INTEGER
                WHEN 0 THEN 'CASH'
                WHEN 1 THEN 'CREDIT_CARD'
                WHEN 2 THEN 'DEBIT_CARD'
                WHEN 3 THEN 'BANK_TRANSFER'
            END
        );
        
        -- Insertar entre 1 y 8 items por orden
        DECLARE
            v_order_id INTEGER;
            v_num_items INTEGER;
            v_consumable_id INTEGER;
            v_quantity INTEGER;
            v_unit_price DECIMAL(10,2);
            j INTEGER;
        BEGIN
            SELECT id INTO v_order_id FROM "order" WHERE order_number = v_order_number AND restaurant_id = v_restaurant_id;
            v_num_items := floor(random() * 8 + 1)::INTEGER;
            
            FOR j IN 1..v_num_items LOOP
                -- Seleccionar consumible aleatorio
                SELECT id, unit_price INTO v_consumable_id, v_unit_price
                FROM consumable
                WHERE restaurant_id = v_restaurant_id
                ORDER BY random()
                LIMIT 1;
                
                -- Cantidad aleatoria entre 1 y 4
                v_quantity := floor(random() * 4 + 1)::INTEGER;
                
                INSERT INTO order_consumable (
                    order_id,
                    consumable_id,
                    quantity,
                    unit_price,
                    total_price,
                    created_at
                ) VALUES (
                    v_order_id,
                    v_consumable_id,
                    v_quantity,
                    v_unit_price,
                    v_unit_price * v_quantity,
                    v_timestamp
                );
            END LOOP;
        END;
        
        -- Feedback cada 50 órdenes
        IF i % 50 = 0 THEN
            RAISE NOTICE 'Creadas % órdenes...', i;
        END IF;
    END LOOP;
    
    RAISE NOTICE 'Completado: 300 órdenes creadas exitosamente';
END $$;
